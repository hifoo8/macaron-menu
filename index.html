<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macaron Store</title>
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIk1hY2Fyb24gU3RvcmUiLAogICJzaG9ydF9uYW1lIjogIk1hY2Fyb25zIiwKICAiZGVzY3JpcHRpb24iOiAiRGVsaWNpb3VzIGhhbmRjcmFmdGVkIG1hY2Fyb25zIGZvciBldmVyeSBvY2Nhc2lvbiIsCiAgInN0YXJ0X3VybCI6ICIvIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjRkFGN0YyIiwKICAidGhlbWVfY29sb3IiOiAiIzZCNEYzQyIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1UazJJaUJvWldsbmFIUTlJakU1TmlJZ2RtbGxkMEp2ZUQwaU1DQXdJREU1TmlBeE9UWWlJR1pwYkd3OUlpTTJRalJHTTBNaVBnbzhZMmx5WTJ4bElHTjRQU0k1T0NJZ1kzazlJams0SWlCeVBTSTBNQ0lnWm1sc2JEMGlJelpDTkVZelF5SXZQZ284TDNOMlp6ND0iLAogICAgICAic2l6ZXMiOiAiMTkyeDE5MiIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiCiAgICB9CiAgXQp9">
    <meta name="theme-color" content="#6B4F3C">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #FAF7F2 0%, #DCC7AA 100%);
            min-height: 100vh;
            padding-bottom: 80px; /* Space for bottom navigation */
        }

        /* Top Bar Styles */
        .top-bar {
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 20px rgba(107, 79, 60, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            border-radius: 0 0 20px 20px;
        }

        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #6B4F3C, #A68A6D);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(107, 79, 60, 0.3);
            position: relative;
            overflow: hidden;
        }

        .logo::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.2), transparent);
        }

        .store-title {
            font-size: 18px;
            font-weight: 600;
            color: #6B4F3C;
            letter-spacing: 0.5px;
        }

        /* Main Content Styles */
        .main-content {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: #333333;
            margin-bottom: 20px;
            text-align: center;
        }

        /* Product Grid Styles */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .product-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 30px rgba(107, 79, 60, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(220, 199, 170, 0.3);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(107, 79, 60, 0.2);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #DCC7AA, #A68A6D);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }

        .product-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3), transparent);
        }

        .product-name {
            font-size: 18px;
            font-weight: 600;
            color: #333333;
            margin-bottom: 8px;
        }

        .product-description {
            font-size: 14px;
            color: #666666;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .product-price {
            font-size: 20px;
            font-weight: 700;
            color: #6B4F3C;
            margin-bottom: 15px;
        }

        .whatsapp-btn {
            width: 100%;
            background: linear-gradient(135deg, #25d366, #128c7e);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.3);
        }

        .accent-btn {
            background: linear-gradient(135deg, #A68A6D, #6B4F3C);
        }

        .accent-btn:hover {
            box-shadow: 0 8px 25px rgba(166, 138, 109, 0.3);
        }

        /* Cart Styles */
        .cart-section {
            display: none;
        }

        .cart-item {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(107, 79, 60, 0.1);
            display: flex;
            align-items: center;
            gap: 15px;
            border: 1px solid rgba(220, 199, 170, 0.3);
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #DCC7AA, #A68A6D);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            color: #333333;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: #6B4F3C;
            font-weight: 600;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border: none;
            background: #A68A6D;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: #6B4F3C;
        }

        .quantity {
            font-weight: 600;
            min-width: 20px;
            text-align: center;
            color: #333333;
        }

        /* Profile Styles */
        .profile-section {
            display: none;
        }

        .profile-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 30px rgba(107, 79, 60, 0.1);
            text-align: center;
            margin-bottom: 20px;
            border: 1px solid rgba(220, 199, 170, 0.3);
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #6B4F3C, #A68A6D);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
            margin: 0 auto 15px;
        }

        .profile-name {
            font-size: 20px;
            font-weight: 600;
            color: #333333;
            margin-bottom: 5px;
        }

        .profile-email {
            color: #666666;
            margin-bottom: 20px;
        }

        /* Bottom Navigation Styles */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 15px 0;
            box-shadow: 0 -2px 20px rgba(107, 79, 60, 0.1);
            border-radius: 20px 20px 0 0;
            z-index: 100;
        }

        .nav-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            max-width: 400px;
            margin: 0 auto;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 12px;
            color: #666666;
        }

        .nav-item.active {
            background: rgba(166, 138, 109, 0.1);
            color: #6B4F3C;
        }

        .nav-icon {
            font-size: 20px;
        }

        .nav-label {
            font-size: 12px;
            font-weight: 500;
        }

        /* Cart Badge */
        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #6B4F3C;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .product-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 15px;
            }
            
            .main-content {
                padding: 15px;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Hidden class for sections */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <header class="top-bar">
        <div class="logo-container">
            <div class="logo">
                <!-- Custom SVG Logo for Macaron Shop -->
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="16" cy="12" r="8" fill="#FAF7F2" stroke="#DCC7AA" stroke-width="1"/>
                    <circle cx="16" cy="20" r="8" fill="#FAF7F2" stroke="#DCC7AA" stroke-width="1"/>
                    <ellipse cx="16" cy="16" rx="8" ry="2" fill="#A68A6D"/>
                    <circle cx="13" cy="10" r="1" fill="#DCC7AA"/>
                    <circle cx="19" cy="11" r="1" fill="#DCC7AA"/>
                    <circle cx="14" cy="22" r="1" fill="#DCC7AA"/>
                    <circle cx="18" cy="21" r="1" fill="#DCC7AA"/>
                </svg>
            </div>
            <h1 class="store-title">Macaron Store</h1>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Section -->
        <section id="home-section" class="home-section">
            <h2 class="section-title">Our Delicious Macarons</h2>
            <div class="product-grid" id="product-grid">
                <!-- Products will be dynamically loaded here -->
            </div>
        </section>

        <!-- Cart Section -->
        <section id="cart-section" class="cart-section hidden">
            <h2 class="section-title">Your Cart</h2>
            <div id="cart-items">
                <!-- Cart items will be dynamically loaded here -->
            </div>
            <div id="empty-cart" class="profile-card" style="display: none;">
                <div style="font-size: 48px; margin-bottom: 15px;">🛒</div>
                <h3>Your cart is empty</h3>
                <p style="color: #666666; margin-top: 10px;">Add some delicious macarons to get started!</p>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile-section" class="profile-section hidden">
            <h2 class="section-title">Profile</h2>
            <div class="profile-card">
                <div class="profile-avatar">👤</div>
                <h3 class="profile-name">Welcome!</h3>
                <p class="profile-email">customer@macaronstore.com</p>
                <button class="whatsapp-btn accent-btn" onclick="contactUs()">
                    📞 Contact Us
                </button>
            </div>
            
            <div class="profile-card">
                <h3 style="margin-bottom: 15px; color: #333333;">About Our Store</h3>
                <p style="color: #666666; line-height: 1.6;">
                    We craft the finest macarons using premium ingredients and traditional French techniques. 
                    Each macaron is made fresh daily with love and attention to detail.
                </p>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-container">
            <div class="nav-item active" onclick="showSection('home')">
                <div class="nav-icon">🏠</div>
                <div class="nav-label">Home</div>
            </div>
            <div class="nav-item" onclick="showSection('cart')" style="position: relative;">
                <div class="nav-icon">🛒</div>
                <div class="nav-label">Cart</div>
                <div class="cart-badge" id="cart-badge" style="display: none;">0</div>
            </div>
            <div class="nav-item" onclick="showSection('profile')">
                <div class="nav-icon">👤</div>
                <div class="nav-label">Profile</div>
            </div>
        </div>
    </nav>

    <script>
        // Service Worker Registration for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // Register service worker with inline code
                const swCode = `
                    const CACHE_NAME = 'macaron-store-v1';
                    const urlsToCache = [
                        '/',
                        '/offline.html'
                    ];

                    self.addEventListener('install', event => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then(cache => cache.addAll(urlsToCache))
                        );
                    });

                    self.addEventListener('fetch', event => {
                        event.respondWith(
                            caches.match(event.request)
                                .then(response => {
                                    if (response) {
                                        return response;
                                    }
                                    return fetch(event.request);
                                })
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Product Data - Easy to modify for different products
        const products = [
            {
                id: 1,
                name: "Classic Vanilla",
                description: "Smooth vanilla buttercream with Madagascar vanilla beans",
                price: "$2.50",
                emoji: "🤍",
                whatsappMessage: "Hi! I'd like to order Classic Vanilla macarons"
            },
            {
                id: 2,
                name: "Chocolate Delight",
                description: "Rich dark chocolate ganache with cocoa powder dusting",
                price: "$2.75",
                emoji: "🤎",
                whatsappMessage: "Hi! I'd like to order Chocolate Delight macarons"
            },
            {
                id: 3,
                name: "Strawberry Bliss",
                description: "Fresh strawberry cream with real strawberry pieces",
                price: "$2.60",
                emoji: "🩷",
                whatsappMessage: "Hi! I'd like to order Strawberry Bliss macarons"
            },
            {
                id: 4,
                name: "Pistachio Dream",
                description: "Authentic pistachio cream with crushed pistachios",
                price: "$3.00",
                emoji: "💚",
                whatsappMessage: "Hi! I'd like to order Pistachio Dream macarons"
            },
            {
                id: 5,
                name: "Lemon Zest",
                description: "Tangy lemon curd with fresh lemon zest",
                price: "$2.65",
                emoji: "💛",
                whatsappMessage: "Hi! I'd like to order Lemon Zest macarons"
            },
            {
                id: 6,
                name: "Lavender Honey",
                description: "Delicate lavender cream with organic honey",
                price: "$2.85",
                emoji: "💜",
                whatsappMessage: "Hi! I'd like to order Lavender Honey macarons"
            }
        ];

        // Cart Management
        let cart = JSON.parse(localStorage.getItem('macaronCart')) || [];

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            updateCartBadge();
            updateCartDisplay();
        });

        // Load products into the grid
        function loadProducts() {
            const productGrid = document.getElementById('product-grid');
            productGrid.innerHTML = '';

            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image">${product.emoji}</div>
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <div class="product-price">${product.price}</div>
                    <button class="whatsapp-btn" onclick="orderViaWhatsApp('${product.whatsappMessage}')">
                        📱 Order via WhatsApp
                    </button>
                `;
                productGrid.appendChild(productCard);
            });
        }

        // WhatsApp ordering function
        function orderViaWhatsApp(message) {
            // Replace with your actual WhatsApp business number
            const phoneNumber = "1234567890"; // Change this to your WhatsApp business number
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
            window.open(whatsappUrl, '_blank');
        }

        // Add item to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }

            localStorage.setItem('macaronCart', JSON.stringify(cart));
            updateCartBadge();
            updateCartDisplay();
        }

        // Remove item from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('macaronCart', JSON.stringify(cart));
            updateCartBadge();
            updateCartDisplay();
        }

        // Update item quantity
        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    localStorage.setItem('macaronCart', JSON.stringify(cart));
                    updateCartDisplay();
                }
            }
        }

        // Update cart badge
        function updateCartBadge() {
            const badge = document.getElementById('cart-badge');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            if (totalItems > 0) {
                badge.textContent = totalItems;
                badge.style.display = 'flex';
            } else {
                badge.style.display = 'none';
            }
        }

        // Update cart display
        function updateCartDisplay() {
            const cartItems = document.getElementById('cart-items');
            const emptyCart = document.getElementById('empty-cart');

            if (cart.length === 0) {
                cartItems.innerHTML = '';
                emptyCart.style.display = 'block';
                return;
            }

            emptyCart.style.display = 'none';
            cartItems.innerHTML = '';

            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image">${item.emoji}</div>
                    <div class="cart-item-details">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">${item.price}</div>
                    </div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });

            // Add checkout button
            const checkoutBtn = document.createElement('button');
            checkoutBtn.className = 'whatsapp-btn accent-btn';
            checkoutBtn.style.marginTop = '20px';
            checkoutBtn.innerHTML = '📱 Checkout via WhatsApp';
            checkoutBtn.onclick = checkoutCart;
            cartItems.appendChild(checkoutBtn);
        }

        // Checkout cart via WhatsApp
        function checkoutCart() {
            if (cart.length === 0) return;

            let message = "Hi! I'd like to place an order:\n\n";
            cart.forEach(item => {
                message += `${item.quantity}x ${item.name} - ${item.price} each\n`;
            });
            message += "\nPlease confirm availability and total price. Thank you!";

            orderViaWhatsApp(message);
        }

        // Contact us function
        function contactUs() {
            const message = "Hi! I have a question about your macarons. Could you please help me?";
            orderViaWhatsApp(message);
        }

        // Navigation function
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.main-content > section').forEach(section => {
                section.classList.add('hidden');
            });

            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected section
            document.getElementById(`${sectionName}-section`).classList.remove('hidden');

            // Add active class to selected nav item
            event.currentTarget.classList.add('active');

            // Update cart display if cart section is shown
            if (sectionName === 'cart') {
                updateCartDisplay();
            }
        }

        // Install PWA prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button or banner (optional)
            console.log('PWA install prompt available');
        });

        // Handle PWA installation
        window.addEventListener('appinstalled', (evt) => {
            console.log('PWA was installed');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9765bfa88164ed2b',t:'MTc1NjQwNDQ1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<img src="YOUR_LOGO_URL_HERE" alt="Macaron Store Logo" style="width: 100%; height: 100%; object-fit: contain;">
